<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>ADP 1회 모의고사 R 정형 데이터 마이닝 실습 - My New Hugo Site</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ADP 1회 모의고사 R 정형 데이터 마이닝 실습" />
<meta property="og:description" content="# R 정형 데이터 마이닝 실습(사용 데이터 : lotto)  setwd(&#34;C:/ADP/data&#34;) lot &lt;- read.csv(&#34;lotto.csv&#34;) str(lot) sum(is.na(lot)) ## 트랜잭션 데이터로 변환 ## 데이터 형태 변환을 위한 패키치 설치 및 로드 install.packages(&#34;reshape2&#34;) library(reshape2) ### melt 함수를 이용하여 데이터 변환 lot_melt &lt;- melt(lot, id.vars=1) # melt 함수를 이용해 열에 있던 회차별 추첨번호 데이터를 행으로 이동 lot_melt2 &lt;- lot_melt[,-2] # 추첨순서를 의미하는 열(원데이터의 변수명)을 삭제한 후 lot_melt2 변수에 저장 str(lot_melt2) # 변환된 데이터의 형태 확인 ### 트랜잭션 데이터 생성을 위한 패키지 설치 및 로드 install." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://sjh4773.github.io/post/r-6/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-05-24T21:04:04&#43;00:00" />
<meta property="article:modified_time" content="2021-05-24T21:04:04&#43;00:00" />


		<meta itemprop="name" content="ADP 1회 모의고사 R 정형 데이터 마이닝 실습">
<meta itemprop="description" content="# R 정형 데이터 마이닝 실습(사용 데이터 : lotto)  setwd(&#34;C:/ADP/data&#34;) lot &lt;- read.csv(&#34;lotto.csv&#34;) str(lot) sum(is.na(lot)) ## 트랜잭션 데이터로 변환 ## 데이터 형태 변환을 위한 패키치 설치 및 로드 install.packages(&#34;reshape2&#34;) library(reshape2) ### melt 함수를 이용하여 데이터 변환 lot_melt &lt;- melt(lot, id.vars=1) # melt 함수를 이용해 열에 있던 회차별 추첨번호 데이터를 행으로 이동 lot_melt2 &lt;- lot_melt[,-2] # 추첨순서를 의미하는 열(원데이터의 변수명)을 삭제한 후 lot_melt2 변수에 저장 str(lot_melt2) # 변환된 데이터의 형태 확인 ### 트랜잭션 데이터 생성을 위한 패키지 설치 및 로드 install."><meta itemprop="datePublished" content="2021-05-24T21:04:04&#43;00:00" />
<meta itemprop="dateModified" content="2021-05-24T21:04:04&#43;00:00" />
<meta itemprop="wordCount" content="724">
<meta itemprop="keywords" content="ADP 모의고사 R 실습," />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ADP 1회 모의고사 R 정형 데이터 마이닝 실습"/>
<meta name="twitter:description" content="# R 정형 데이터 마이닝 실습(사용 데이터 : lotto)  setwd(&#34;C:/ADP/data&#34;) lot &lt;- read.csv(&#34;lotto.csv&#34;) str(lot) sum(is.na(lot)) ## 트랜잭션 데이터로 변환 ## 데이터 형태 변환을 위한 패키치 설치 및 로드 install.packages(&#34;reshape2&#34;) library(reshape2) ### melt 함수를 이용하여 데이터 변환 lot_melt &lt;- melt(lot, id.vars=1) # melt 함수를 이용해 열에 있던 회차별 추첨번호 데이터를 행으로 이동 lot_melt2 &lt;- lot_melt[,-2] # 추첨순서를 의미하는 열(원데이터의 변수명)을 삭제한 후 lot_melt2 변수에 저장 str(lot_melt2) # 변환된 데이터의 형태 확인 ### 트랜잭션 데이터 생성을 위한 패키지 설치 및 로드 install."/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="My New Hugo Site" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">My New Hugo Site</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ADP 1회 모의고사 R 정형 데이터 마이닝 실습</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">JiHun</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2021-05-24T21:04:04Z">2021-05-24</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/adp-%EB%AA%A8%EC%9D%98%EA%B3%A0%EC%82%AC-r-%EC%8B%A4%EC%8A%B5/" rel="category">ADP 모의고사 R 실습</a>
	</span>
</div></div>
		</header><div class="content post__content clearfix">
			<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># R 정형 데이터 마이닝 실습(사용 데이터 : lotto) </span>

<span style="color:#a6e22e">setwd</span>(<span style="color:#e6db74">&#34;C:/ADP/data&#34;</span>)

lot <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;lotto.csv&#34;</span>)
<span style="color:#a6e22e">str</span>(lot)

<span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">is.na</span>(lot))

<span style="color:#75715e">## 트랜잭션 데이터로 변환</span>
<span style="color:#75715e">## 데이터 형태 변환을 위한 패키치 설치 및 로드</span>

<span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;reshape2&#34;</span>)
<span style="color:#a6e22e">library</span>(reshape2)

<span style="color:#75715e">### melt 함수를 이용하여 데이터 변환</span>
lot_melt <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">melt</span>(lot, id.vars<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>) <span style="color:#75715e"># melt 함수를 이용해 열에 있던 회차별 추첨번호 데이터를 행으로 이동</span>
lot_melt2 <span style="color:#f92672">&lt;-</span> lot_melt[,<span style="color:#ae81ff">-2</span>] <span style="color:#75715e"># 추첨순서를 의미하는 열(원데이터의 변수명)을 삭제한 후 lot_melt2 변수에 저장</span>
<span style="color:#a6e22e">str</span>(lot_melt2) <span style="color:#75715e"># 변환된 데이터의 형태 확인</span>

<span style="color:#75715e">### 트랜잭션 데이터 생성을 위한 패키지 설치 및 로드</span>
<span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;arules&#34;</span>)
<span style="color:#a6e22e">library</span>(arules)

<span style="color:#75715e">### lot_melt2 데이터를 transaction Data로 변환</span>
<span style="color:#75715e">### 참고) split(x1,x2) : x1 데이터를 x2에 따라 데이터를 분리하는 함수</span>
<span style="color:#75715e">### 참고) as(데이터, &#34;transactions&#34;):데이터의 구조를 트랜잭션 데이터로 변환</span>
lot_sp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">split</span>(lot_melt<span style="color:#f92672">$</span>value, lot_melt<span style="color:#f92672">$</span>time_id) <span style="color:#75715e"># 로또 추첨회차를 기준으로 당첨번호를 분리하여 lot_sp에 저장</span>
lot_ts <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as</span>(lot_sp, <span style="color:#e6db74">&#34;transactions&#34;</span>)  <span style="color:#75715e"># lot_sp 데이터를 트랜잭션 데이터로 변환</span>

<span style="color:#75715e">### 트랜잭션 데이터 출력</span>
<span style="color:#75715e">### 참고) inspect(lot_ts[1:5]) # 트랜잭션 데이터로 변환한 후 다섯개의 행을 출력하여 확인</span>
<span style="color:#a6e22e">inspect</span>(lot_ts[1<span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>]) <span style="color:#75715e"># 트랜잭션 데이터로 변환한 후 다섯개의 행을 출력하여 확인</span>

<span style="color:#75715e">### 최다 등장 로또추첨번호 TOP10을 확인한 후 막대그래프로 시각화하기</span>
<span style="color:#a6e22e">itemFrequencyPlot</span>(lot_ts,topN<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>,type<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;absolute&#34;</span>)  <span style="color:#75715e"># 도수를 기준으로 막대그래프 생성</span>
<span style="color:#a6e22e">itemFrequencyPlot</span>(lot_ts,topN<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>)                  <span style="color:#75715e"># 상대도수(비율)를 기준으로 막대그래프 생성</span>

<span style="color:#75715e">### 규칙 생성</span>
<span style="color:#75715e">### 참고) apriori(data, parameter) : apriory 알고리즘을 이용하여 연관규칙을 찾는 함수</span>

<span style="color:#75715e">### 최소 지지도, 신뢰도, 조합 항목수에 대한 조건을 리스트형태로 저장</span>
metric.params <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">list</span>(supp<span style="color:#f92672">=</span><span style="color:#ae81ff">0.002</span>, conf<span style="color:#f92672">=</span><span style="color:#ae81ff">0.8</span>, minlen<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, maxlen<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>)
rules_1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">apriori</span>(lot_ts, parameter <span style="color:#f92672">=</span> metric.params)

<span style="color:#a6e22e">inspect</span>(rules_1[1<span style="color:#f92672">:</span><span style="color:#ae81ff">20</span>])

<span style="color:#75715e">### 총 679개의 연관규칙이 발견되었다.</span>

<span style="color:#75715e">### 향상도인 &#34;lift&#34; 기준으로 내림차순 정렬했을 때 상위 30개의 규칙 확인</span>
rules_2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sort</span>(rules_1, by<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lift&#34;</span>, decreasing <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#75715e"># 향상도를 기준으로 내림차순 정렬</span>
<span style="color:#a6e22e">inspect</span>(rules_2[1<span style="color:#f92672">:</span><span style="color:#ae81ff">30</span>]) <span style="color:#75715e"># 상위 30개의 규칙 확인</span>

<span style="color:#75715e">### 위 30개의 규칙들을 데이터프레임으로 변환</span>
rules_3 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">inspect</span>(rules_2[1<span style="color:#f92672">:</span><span style="color:#ae81ff">30</span>])

rules_4 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as</span>(rules_3, <span style="color:#e6db74">&#34;data.frame&#34;</span>)
<span style="color:#a6e22e">str</span>(rules_4)

<span style="color:#75715e">### 변환된 데이터프레임을 csv 파일로 저장</span>
<span style="color:#a6e22e">write.csv</span>(rules_4,file<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;C:/ADP/data/lotto_rules.csv&#34;</span>,row.names<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>)

<span style="color:#75715e">### summary 함수를 이용하여 생성된 규칙들에 관한 정보를 해석</span>
<span style="color:#a6e22e">summary</span>(rules_1)

<span style="color:#75715e">###set of 679 rules</span>

<span style="color:#75715e">#rule length distribution (lhs + rhs):sizes</span>
<span style="color:#75715e">#4   5</span>
<span style="color:#75715e">#632  47</span>

<span style="color:#75715e">#Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span style="color:#75715e">#4.000   4.000   4.000   4.069   4.000   5.000</span>

<span style="color:#75715e">#summary of quality measures:</span>
<span style="color:#75715e">#  support           confidence    coverage             lift           count</span>
<span style="color:#75715e">#Min.   :0.002328   Min.   :1    Min.   :0.002328   Min.   :6.410   Min.   :2.000</span>
<span style="color:#75715e">#1st Qu.:0.002328   1st Qu.:1    1st Qu.:0.002328   1st Qu.:7.041   1st Qu.:2.000</span>
<span style="color:#75715e">#Median :0.002328   Median :1    Median :0.002328   Median :7.280   Median :2.000</span>
<span style="color:#75715e">#Mean   :0.002364   Mean   :1    Mean   :0.002364   Mean   :7.434   Mean   :2.031</span>
<span style="color:#75715e">#3rd Qu.:0.002328   3rd Qu.:1    3rd Qu.:0.002328   3rd Qu.:7.670   3rd Qu.:2.000</span>
<span style="color:#75715e">#Max.   :0.003492   Max.   :1    Max.   :0.003492   Max.   :9.652   Max.   :3.000</span>

<span style="color:#75715e">#mining info:</span>
<span style="color:#75715e">#  data ntransactions support confidence</span>
<span style="color:#75715e">#lot_ts           859   0.002        0.8</span>

<span style="color:#75715e"># 총 679개의 연관규칙이 도출되었으며, 그 중 632개 규칙은 4개의 로또번호로 구성되었고</span>
<span style="color:#75715e"># 47개의 규칙은 5개의 번호로 구성되었다. 규칙들에 대한 향상도의 최소값은 6.410으로 꽤 높게 나타났으며,</span>
<span style="color:#75715e"># 추첨번호들의 교집합 확률을 의미하는 지지도의 평균은 0.002364로 나타났다.</span>
<span style="color:#75715e"># 트랜잭션 데이터의 개수는 859개이며, 트랜잭션 데이터는 859회 동안의 로또 당첨번호들을 의미한다.</span>

<span style="color:#75715e"># 로또 데이터에서 가장 많이 등장한 추첨번호 &#39;34&#39;가 우측항에 존재하는 규칙들만을 추출하여 저장</span>
rules_most_freq <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">subset</span>(rules_1, rhs <span style="color:#f92672">%in%</span> <span style="color:#e6db74">&#34;34&#34;</span>)

<span style="color:#75715e"># 해당 규칙 확인</span>
<span style="color:#a6e22e">inspect</span>(rules_most_freq)

<span style="color:#75715e"># lhs              rhs  support     confidence coverage    lift     count</span>
<span style="color:#75715e"># [1]  {7,22,31}     =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [2]  {22,24,31}    =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [3]  {17,32,33}    =&gt; {34} 0.003492433 1          0.003492433 6.410448 3    </span>
<span style="color:#75715e"># [4]  {23,42,45}    =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [5]  {15,19,41}    =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [6]  {2,15,28}     =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [7]  {5,13,29}     =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [8]  {5,17,29}     =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [9]  {17,42,45}    =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [10] {14,25,44}    =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [11] {2,15,21}     =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [12] {19,21,44}    =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [13] {2,4,31}      =&gt; {34} 0.003492433 1          0.003492433 6.410448 3    </span>
<span style="color:#75715e"># [14] {7,24,31}     =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [15] {12,36,37}    =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [16] {1,5,13}      =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [17] {10,22,36,44} =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [18] {7,22,24,31}  =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>
<span style="color:#75715e"># [19] {15,19,21,44} =&gt; {34} 0.002328289 1          0.002328289 6.410448 2    </span>


<span style="color:#75715e"># 총 19개의 규칙이 도출되었으며, [1]번 규칙을 확인해 보면, {7,22,31}번과 {34}번이 함께 추첨될 확률은</span>
<span style="color:#75715e"># support(지지도)를 확인한 결과 0.002328289이며 이는 약 0.2%에 해당한다. 이 규칙의 lift(향상도)는</span>
<span style="color:#75715e"># 6.410448로 이는 {34}만 추첨됐을 때 보다 {7,22,31}번이 뽑히고 {34}도 뽑힐 확률이 약 6배 높다는 것을 의미한다.</span>
<span style="color:#75715e"># 하지만 이러한 규칙들은 로또번호가 추첨되는 순서를 고려하지 않고 단순히 조합에 대한 확률만을 고려한 규칙이므로,</span>
<span style="color:#75715e"># 향상도가 높은 숫자들의 조합이 로또 추첨번호가 될 가능성이 높은 것은 아니다.</span>

</code></pre></div>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/adp-%EB%AA%A8%EC%9D%98%EA%B3%A0%EC%82%AC-r-%EC%8B%A4%EC%8A%B5/" rel="tag">ADP 모의고사 R 실습</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<div class="authorbox__header">
		<span class="authorbox__name">About JiHun</span>
	</div>
	<div class="authorbox__description">
		John Doe&rsquo;s true identity is unknown. Maybe he is a successful blogger or writer. Nobody knows it.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/post/tableau1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">태블로로 제작한 전국 광역시 미분양주택 현황</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/post/r-7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ADP 1회 모의고사 R 정형 데이터 마이닝 실습-2</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 JiHun.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>